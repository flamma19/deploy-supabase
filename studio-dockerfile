FROM supabase/studio:20240514-6f5cabd


HEALTHCHECK --start-period=5s --interval=5s --timeout=5s --retries=3 \
    CMD node -e "require('http').get('http://localhost:3000/api/profile', (r) => { if (r.statusCode !== 200) throw new Error(r.statusCode) })"

ENV STUDIO_PG_META_URL="http://meta:8080"
ENV POSTGRES_PASSWORD="your-super-secret-and-long-postgres-password"
ENV DEFAULT_ORGANIZATION_NAME="default"
ENV DEFAULT_PROJECT_NAME="default"
ENV SUPABASE_URL="supabase.darkube.app"
ENV SUPABASE_PUBLIC_URL: "supabase.darkube.app"
ENV SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1jYmd0Z3ptZGdpdXN5bGx0aXh6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTgxOTUxMzEsImV4cCI6MjAzMzc3MTEzMX0.U2jZ6rXmXuaXwramicZWFNRHvIMitcoKuF8sdls5a-s"
ENV SUPABASE_SERVICE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1jYmd0Z3ptZGdpdXN5bGx0aXh6Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTcxODE5NTEzMSwiZXhwIjoyMDMzNzcxMTMxfQ.zuOrkNkDDmO0V15E3G71Y1AUN8Bs0dutP1r7E2RVkb0"
ENV AUTH_JWT_SECRET="MxFP4SYNDw5LUE2ORvEOCd7lJtN3mxoHZMlg7DzrSUEzqUTzRjb8VoCF90aGx1TLK/J2x6zPuTaih/7tFuPhUA=="
ENV LOGFLARE_API_KEY="${LOGFLARE_API_KEY}"
ENV LOGFLARE_URL="http://analytics:4000"
ENV NEXT_PUBLIC_ENABLE_LOGS="true"
# ENV NEXT_ANALYTICS_BACKEND_PROVIDER="postgres"
# ENV NEXT_ANALYTICS_BACKEND_PROVIDER="bigquery"
