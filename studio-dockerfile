FROM supabase/studio:20240514-6f5cabd


HEALTHCHECK --start-period=5s --interval=5s --timeout=5s --retries=3 \
    CMD node -e "require('http').get('http://localhost:3000/api/profile', (r) => { if (r.statusCode !== 200) throw new Error(r.statusCode) })"

ENV STUDIO_PG_META_URL="http://meta:8080"
ENV POSTGRES_PASSWORD="your-super-secret-and-long-postgres-password"
ENV DEFAULT_ORGANIZATION_NAME="${STUDIO_DEFAULT_ORGANIZATION}"
ENV DEFAULT_PROJECT_NAME="${STUDIO_DEFAULT_PROJECT}"
ENV SUPABASE_URL="http://localhost:8000"
ENV SUPABASE_PUBLIC_URL: ${SUPABASE_PUBLIC_URL}
ENV SUPABASE_ANON_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJhbm9uIiwKICAgICJpc3MiOiAic3VwYWJhc2UtZGVtbyIsCiAgICAiaWF0IjogMTY0MTc2OTIwMCwKICAgICJleHAiOiAxNzk5NTM1NjAwCn0.dc_X5iR_VP_qT0zsiyj_I_OZ2T9FtRU2BBNWN8Bu4GE"
ENV SUPABASE_SERVICE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyAgCiAgICAicm9sZSI6ICJzZXJ2aWNlX3JvbGUiLAogICAgImlzcyI6ICJzdXBhYmFzZS1kZW1vIiwKICAgICJpYXQiOiAxNjQxNzY5MjAwLAogICAgImV4cCI6IDE3OTk1MzU2MDAKfQ.DaYlNEoUrrEn2Ig7tqibS-PHK5vgusbcbo7X36XVt4Q"
ENV AUTH_JWT_SECRET="your-super-secret-jwt-token-with-at-least-32-characters-long"
ENV LOGFLARE_API_KEY="${LOGFLARE_API_KEY}"
ENV LOGFLARE_URL="http://analytics:4000"
ENV NEXT_PUBLIC_ENABLE_LOGS="true"
# ENV NEXT_ANALYTICS_BACKEND_PROVIDER="postgres"
# ENV NEXT_ANALYTICS_BACKEND_PROVIDER="bigquery"
